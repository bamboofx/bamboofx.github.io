<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.57.2" />
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>NumPy cơ bản :: Bamboofx&#39;s or NTVFX&#39;s Site</title>

    
    <link href="/css/nucleus.css?1576139178" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1576139178" rel="stylesheet">
    <link href="/css/hybrid.css?1576139178" rel="stylesheet">
    <link href="/css/featherlight.min.css?1576139178" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1576139178" rel="stylesheet">
    <link href="/css/auto-complete.css?1576139178" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1576139178" rel="stylesheet">
    <link href="/css/theme.css?1576139178" rel="stylesheet">
    <link href="/css/hugo-theme.css?1576139178" rel="stylesheet">
    
      <link href="/css/theme-blue.css?1576139178" rel="stylesheet">
    

    <script src="/js/jquery-3.3.1.min.js?1576139178"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/numpy/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://bamboofx.github.io/">
  <img src="https://bamboofx.github.io/images/logo.png "> </img>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1576139178"></script>
<script type="text/javascript" src="/js/auto-complete.js?1576139178"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/bamboofx.github.io\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1576139178"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/ai-with-python/" title="AI with Python (Prateek Joshi)" class="dd-item 
        
        
        
        ">
      <a href="/ai-with-python/">
          AI with Python (Prateek Joshi)
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            


 
  
    
      <li data-nav-id="/ai-with-python/chapter1/" title="C1: Trí thông minh nhân tạo là gì?" class="dd-item ">
        <a href="/ai-with-python/chapter1/">
        C1: Trí thông minh nhân tạo là gì?
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ai-with-python/chapter2/" title="C2: Classification and Regression" class="dd-item ">
        <a href="/ai-with-python/chapter2/">
        C2: Classification and Regression
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ai-with-python/chapter3/" title="C3: Ensemble Learing" class="dd-item ">
        <a href="/ai-with-python/chapter3/">
        C3: Ensemble Learing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ai-with-python/chapter4/" title="C4: Detecting Patterns with Unsupervised Learning" class="dd-item ">
        <a href="/ai-with-python/chapter4/">
        C4: Detecting Patterns with Unsupervised Learning
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ai-with-python/chapter5/" title="C5: Building Recommender Systems" class="dd-item ">
        <a href="/ai-with-python/chapter5/">
        C5: Building Recommender Systems
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ai-with-python/chapter6/" title="C6: Logic Programing" class="dd-item ">
        <a href="/ai-with-python/chapter6/">
        C6: Logic Programing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ai-with-python/chapter7/" title="C7: Tìm kiếm Heuristic" class="dd-item ">
        <a href="/ai-with-python/chapter7/">
        C7: Tìm kiếm Heuristic
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ai-with-python/chapter8/" title="C8: Thuật toán di truyền - Genetic Alogrithms" class="dd-item ">
        <a href="/ai-with-python/chapter8/">
        C8: Thuật toán di truyền - Genetic Alogrithms
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ai-with-python/chapter9/" title="C9: Xây dựng game cùng với AI" class="dd-item ">
        <a href="/ai-with-python/chapter9/">
        C9: Xây dựng game cùng với AI
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ai-with-python/chapter10/" title="C10: Natural Language Processing" class="dd-item ">
        <a href="/ai-with-python/chapter10/">
        C10: Natural Language Processing
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ai-with-python/chapter11/" title="C11: Sequential Data" class="dd-item ">
        <a href="/ai-with-python/chapter11/">
        C11: Sequential Data
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ai-with-python/chapter12/" title="C12: Speech Recognizer" class="dd-item ">
        <a href="/ai-with-python/chapter12/">
        C12: Speech Recognizer
        
        </a>
    </li>
     
  
 

            
          
            
            


 
  
    
      <li data-nav-id="/ai-with-python/chapter13/" title="C13: Object Detection and Tracking" class="dd-item ">
        <a href="/ai-with-python/chapter13/">
        C13: Object Detection and Tracking
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/numpy/" title="NumPy cơ bản" class="dd-item 
        parent
        active
        
        ">
      <a href="/numpy/">
          NumPy cơ bản
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/about/" title="about" class="dd-item 
        
        
        
        ">
      <a href="/about/">
          About
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/'>Site</a> > NumPy cơ bản
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">

    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              NumPy cơ bản
            </h1>
          

        




	  
<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><link href="style.css" rel="stylesheet" type="text/css" /><title>NumPyGuide quickstart</title></head><body><div class="calibre" id="calibre_link-0">
	<p class="block_">NumPy  cơ bản trong Python </p>
	<p class="block_1">&nbsp;</p>
	<p class="block_2">Lời nói đầu</p>
	<p class="block_3">NumPy là một thư viện không thể thiếu khi ta làm việc với mảng trong Python. NumPy là viết tắt của từ Nummerical Python. Trong numPy chiều của array được gọi là <i class="calibre1">axes</i> và số chiều gọi là <i class="calibre1">rank</i></p>
	<p class="block_3">Trước khi đọc về numPy bạn cần phải cài đặt python và package numPy. Nhanh nhất là cài pycharm vào settings-&gt; cài package numPy</p>
	<p class="block_2">Những thứ cơ bản</p>
	<p class="block_3">Về cơ bản dễ hiểu thì NumPy chính là một mảng đa chiều đồng nhất. Nó là một bảng gồm các thành phần (thường là số), và có cùng định dạng, được chỉ định các mục bởi số nguyên dương. Trong Numpy các chiều được gọi là <i class="calibre1">axes.</i></p>
	<p class="block_3">Ví dụ . ta có 1 tọa độ của một điểm trong không gian 3D [1,2,1] có 1 trục(axis). Trục này có 3 thành phần trên nó nên ta nói nó có độ dài là 3. </p>
	<p class="block_3">Ta có ví dụ khác:</p>
	<div class="frame_"><p class="block_4">[[1.,0.,0.],</p><p class="block_5">[0.,1.,2.]]</p></div>
	<p class="block_3">ở ví dụ này ta có một array gồm 2 trục(axes). trục đầu tieen có độ dài là 2 và trục thứ 2 có độ dài là 3.</p>
	<p class="block_3">NumPy array class được gọi là ndarrray. chú ý <i class="calibre1">numpy.array</i> không giống với <i class="calibre1">array.array</i> trong Python Lybrary vì <i class="calibre1">array.array </i>chỉ có 1 chiều. Những thuộc tính quan trọng nhất trong ndarray object là:</p>
	<ul class="list_">
	<li class="block_6"><b class="calibre2">ndarray.ndim:<span class="tab">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></b>số các trục(axes) hay còn gọi là số chiều của array</li>
	<li class="block_7"><b class="calibre2">ndarray.shape</b>: đây là chiều của array. Đây là 1 số nguyên tuple ( số tuple được biểu diễn dưới dạng (1,2) cơ bản nó giống array.array nhưng không thể thêm hay loại bỏ thành phần) chỉ ra các chiều array vd shape(n,m) đây là một matrix có n hàng và m cột</li>
	<li class="block_7"><b class="calibre2">ndarray.size:</b> Tổng số thành phần có trong numPy.array. Nó cũng bằng tổng của 2 số có trong shape()</li>
	<li class="block_7"><b class="calibre2">ndarrray.dtype:</b> Đây là số để định dạng các thành phần trong array. nó nhận tất cả các giá trị dtype có trong Python và ngoài ra numPy cũng có một số định dạng riêng như numpy.int32,numpy.int16,numpy.float64.</li>
	<li class="block_7"><b class="calibre2">ndarray.itemsize:</b> Đây là size dưới dạng bytes của mỗi element của array. Ví dụ một array có định dạng của thành phần là float64 thì nó có itemsize=8(=64/8). trong khi số phức có itemsize =4 complex32(32/8=4). Số này cũng tương đương với giá trị cảu ndarray.dtype.itemsize</li>
	<li class="block_8"><b class="calibre2">ndarray.data:</b> Bộ đệm chứa các thành phần thực sự của array. Bình thưởng chúng ta không cần sử dụng thuộc tính này bởi vì chúng ta sẽ truy cập vào các thành phần trong array sử dụng index.</li>
</ul>
	<p class="block_1">&nbsp;</p>
	<p class="block_9"><span class="text_">import </span><span class="text_1">numpy </span><span class="text_"><span class="calibre3">as  </span></span><span class="text_1">np<br class="calibre4" /></span><span class="text_">def </span><span class="text_2">mprint</span><span class="text_1">(str):<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_1">(</span><span class="text_4">"x"</span><span class="text_1">*</span><span class="text_5">30</span><span class="text_">,</span><span class="text_1">str</span><span class="text_">,</span><span class="text_4">"x"</span><span class="text_1">*</span><span class="text_5">30</span><span class="text_1">)<br class="calibre4" />mprint(</span><span class="text_4">"Cơ bản về về Numpy:"</span><span class="text_1">)<br class="calibre4" />mprint(</span><span class="text_4">"Tạo mảng một chiều từ list"</span><span class="text_1">)<br class="calibre4" />a = np.array([</span><span class="text_5">1</span><span class="text_">, </span><span class="text_5">2</span><span class="text_">, </span><span class="text_5">3</span><span class="text_1">])<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(</span><span class="text_3">type</span><span class="text_1">(a)) </span><span class="text_6">#&lt;class 'numpy.ndarray'&gt;<br class="calibre4" /><br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(a.shape) </span><span class="text_6">#(3,)<br class="calibre4" /></span><span class="text_1">a[</span><span class="text_5">0</span><span class="text_1">] = </span><span class="text_5">5<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(a) </span><span class="text_6">#[5 2 3]<br class="calibre4" /></span><span class="text_1">b = np.array([[</span><span class="text_5">1</span><span class="text_">, </span><span class="text_5">2</span><span class="text_">, </span><span class="text_5">3</span><span class="text_1">]</span><span class="text_">, </span><span class="text_1">[</span><span class="text_5">4</span><span class="text_">, </span><span class="text_5">5</span><span class="text_">, </span><span class="text_5">6</span><span class="text_1">]])<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(b.size) </span><span class="text_6">#6<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(b)<br class="calibre4" /></span><span class="text_6"># Tạo mảng từ khoảng cho trước<br class="calibre4" /></span><span class="text_1">u = np.arange(</span><span class="text_5">3.0</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(u) </span><span class="text_6">#[0. 1. 2.]<br class="calibre4" /></span><span class="text_1">v = np.arange(</span><span class="text_5">3</span><span class="text_">, </span><span class="text_5">7</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(v) </span><span class="text_6">#[3 4 5 6]</span></p>
	<p class="block_1">&nbsp;</p>
	<p class="block_3">Một lỗi thường gặp trong khi khởi tạo numPy</p>
	<div class="frame_"><p class="block_4">a=np.array(<span class="calibre3">1,2,3)   # =&gt; Sai</span></p><p class="block_5">a=np.array([1,2,3]) # =&gt; Đúng</p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_3">Thường thì các thành phần trong một array không xác định, nhưng size thì phải biết trước. Vì thế NumPy đưa cho chúng ta một vài hàm để tạo mảng</p>
	<div class="frame_"><p class="block_10"><span class="text_7"><br class="calibre4" /></span><span class="text_1"># np.zeros tạo ma trận số 0 với shape(số cột,số hàng)<br class="calibre4" /></span><span class="text_7">a = np.zeros((</span><span class="text_5">5</span><span class="text_">, </span><span class="text_5">3</span><span class="text_7">))<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a)<br class="calibre4" /></span><span class="text_1">#[[0. 0. 0.]<br class="calibre4" /># [0. 0. 0.]<br class="calibre4" /># [0. 0. 0.]<br class="calibre4" /># [0. 0. 0.]<br class="calibre4" /># [0. 0. 0.]]<br class="calibre4" />#np.ones tạo mảng 2 chiều số 1 tương tự zeros<br class="calibre4" /></span><span class="text_7">b = np.ones((</span><span class="text_5">5</span><span class="text_">, </span><span class="text_5">2</span><span class="text_7">))<br class="calibre4" /></span><span class="text_1"># np.full() tạo mảng hằng số tham số tương tự như trên với shape gồm shape(số hàng,số cột), và tham số thứ 2 là hằng số cần tạo<br class="calibre4" /></span><span class="text_7">c = np.full((</span><span class="text_5">3</span><span class="text_">, </span><span class="text_5">5</span><span class="text_7">)</span><span class="text_">, </span><span class="text_5">3</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(c)<br class="calibre4" /></span><span class="text_1"># [[3 3 3 3 3]<br class="calibre4" /># [3 3 3 3 3]<br class="calibre4" /># [3 3 3 3 3]]<br class="calibre4" /><span class="calibre3">#np.eye(N,M,k) tạo ma trận chéo với N hàng và M cột,  nếu không gán giá trị M thì mặc định M sẽ = N</span></span><span class="text_1"> , tham số k (tùy chọn, mặc định là 0) là chỉ số đường chéo<br class="calibre4" /></span><span class="text_7">d = np.eye(</span><span class="text_5">5</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(d)<br class="calibre4" /></span><span class="text_1">#[[1. 0. 0. 0. 0.]<br class="calibre4" /># [0. 1. 0. 0. 0.]<br class="calibre4" /># [0. 0. 1. 0. 0.]<br class="calibre4" /># [0. 0. 0. 1. 0.]<br class="calibre4" /># [0. 0. 0. 0. 1.]]<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"-"</span><span class="text_7">*</span><span class="text_5">45</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1"># np.random.random((N.M)) Tạo ma trận ngẫu nhiên với N hàng M cột, với giá trị ngẫu nhiên từ 0-&gt;1<br class="calibre4" /></span><span class="text_7">e=np.random.random((</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">3</span><span class="text_7">))<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(e)<br class="calibre4" /></span><span class="text_1">#[[0.67471134 0.96878567 0.13359926]<br class="calibre4" /><span class="calibre3"># [0.98475084 0.7250046  0.00370332]]</span></span><span class="text_1"><br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(np.empty((</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">3</span><span class="text_7">))</span><span class="text_">,</span><span class="text_4">"Tạo mảng với np.empty cũng tương tự như với np.random.random"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1"># Để tạo một dãy số NumPy có một hàm tương tự với range trong Python là np.arange, nó trả về một array thay vì là một list số nguyên như range<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(np.arange(</span><span class="text_5">10</span><span class="text_">,</span><span class="text_5">30</span><span class="text_">,</span><span class="text_5">5</span><span class="text_7">)</span><span class="text_">,</span><span class="text_4">"Tạo mảng từ 10 - tới 30 với số bước là 5"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(np.arange(</span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">0.3</span><span class="text_7">)</span><span class="text_">,</span><span class="text_4">" np.arange cũng chấp nhận giá trị là số float"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1"># Khi dùng float làm tham số cho arange. Nó thường tạo ra một dãy số không thể xác định nên ta thường sử dụng thêm np.linspace để mặc định số phần tử được tạo ra thay vì số bước<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(np.linspace(</span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">9</span><span class="text_7">)</span><span class="text_">,</span><span class="text_4">"np.linspace(0,2,9) Tạo ra 9 phần tử là số float từ 0-2"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(np.linspace(</span><span class="text_5">0</span><span class="text_">,</span><span class="text_7">np.pi</span><span class="text_">,</span><span class="text_5">180</span><span class="text_7">)</span><span class="text_">,</span><span class="text_4">"hoặc lấy số điểm trong 1 hình tròn"</span><span class="text_7">)</span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_2">Các phép tính cơ bản trong NumPy</p>
	<div class="frame_"><p class="block_10"><span class="text_1">x = np.array([[</span><span class="text_5">1</span><span class="text_">, </span><span class="text_5">2</span><span class="text_1">]</span><span class="text_">, </span><span class="text_1">[</span><span class="text_5">3</span><span class="text_">, </span><span class="text_5">4</span><span class="text_1">]]</span><span class="text_">, </span><span class="text_8">dtype</span><span class="text_1">=np.float64)<br class="calibre4" />y = np.array([[</span><span class="text_5">5</span><span class="text_">, </span><span class="text_5">6</span><span class="text_1">]</span><span class="text_">, </span><span class="text_1">[</span><span class="text_5">7</span><span class="text_">, </span><span class="text_5">8</span><span class="text_1">]]</span><span class="text_">, </span><span class="text_8">dtype</span><span class="text_1">=np.float64)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(</span><span class="text_4">"ma trận x:"</span><span class="text_">,</span><span class="text_1">x)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(</span><span class="text_4">"ma trận y:"</span><span class="text_">,</span><span class="text_1">y)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.add(x</span><span class="text_">, </span><span class="text_1">y) </span><span class="text_">, </span><span class="text_4">"phép cộng"</span><span class="text_1">)<br class="calibre4" /><br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.subtract(x</span><span class="text_">, </span><span class="text_1">y)</span><span class="text_">,</span><span class="text_4">"phép trừ"</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.divide(x</span><span class="text_">, </span><span class="text_5">2</span><span class="text_1">)</span><span class="text_">,</span><span class="text_4">"phép chia mảng 1 cho 2 "</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.divide(x</span><span class="text_">, </span><span class="text_1">y)</span><span class="text_">,</span><span class="text_4">"phép chia 2 mảng"</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.multiply(x</span><span class="text_">, </span><span class="text_1">y)</span><span class="text_">,</span><span class="text_4">"phép nhân 2 mảng"</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.sqrt(x)</span><span class="text_">,</span><span class="text_4">"phép khai căn trên 1 mảng "</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.sqrt((x</span><span class="text_">,</span><span class="text_1">y))</span><span class="text_">,</span><span class="text_4">"phép khai căn trên 2 mảng "</span><span class="text_1">)<br class="calibre4" /><br class="calibre4" />mprint(</span><span class="text_4">" Phép toán trên hàng và cột "</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.sum(x)</span><span class="text_">,</span><span class="text_4">" Tổng các giá trị trong ma trận x"</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(x.T</span><span class="text_">,</span><span class="text_4">"phép chuyển vị ma trận x"</span><span class="text_1">)<br class="calibre4" />mprint(</span><span class="text_4">"Phép toán nhân ma trận: Tích trong (inner Product)"</span><span class="text_1">)<br class="calibre4" />x = np.array([[</span><span class="text_5">1</span><span class="text_">, </span><span class="text_5">2</span><span class="text_1">]</span><span class="text_">, </span><span class="text_1">[</span><span class="text_5">3</span><span class="text_">, </span><span class="text_5">4</span><span class="text_1">]])<br class="calibre4" />y = np.array([[</span><span class="text_5">5</span><span class="text_">, </span><span class="text_5">6</span><span class="text_1">]</span><span class="text_">, </span><span class="text_1">[</span><span class="text_5">7</span><span class="text_">, </span><span class="text_5">8</span><span class="text_1">]])<br class="calibre4" />v = np.array([</span><span class="text_5">9</span><span class="text_">, </span><span class="text_5">10</span><span class="text_1">])<br class="calibre4" />w = np.array([</span><span class="text_5">11</span><span class="text_">, </span><span class="text_5">12</span><span class="text_1">])<br class="calibre4" />d = np.array([</span><span class="text_5">3</span><span class="text_">, </span><span class="text_5">4</span><span class="text_1">])<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(</span><span class="text_4">"Ma trận x:</span><span class="text_">\n</span><span class="text_4">"</span><span class="text_">,</span><span class="text_1">x)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(</span><span class="text_4">"Ma trận y:</span><span class="text_">\n</span><span class="text_4">"</span><span class="text_">,</span><span class="text_1">y)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(</span><span class="text_4">"Ma trận v:</span><span class="text_">\n</span><span class="text_4">"</span><span class="text_">,</span><span class="text_1">v)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(</span><span class="text_4">"Ma trận w:</span><span class="text_">\n</span><span class="text_4">"</span><span class="text_">,</span><span class="text_1">w)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(</span><span class="text_4">"Ma trận d:</span><span class="text_">\n</span><span class="text_4">"</span><span class="text_">,</span><span class="text_1">d)<br class="calibre4" /><br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.dot(v</span><span class="text_">, </span><span class="text_1">w)</span><span class="text_">,</span><span class="text_4">"= 9*11+10*12"</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.matmul(x</span><span class="text_">, </span><span class="text_1">v)</span><span class="text_">,</span><span class="text_4">"= [9*1+10*2,9*3+10*4]"</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.dot(v</span><span class="text_">, </span><span class="text_1">d)</span><span class="text_">,</span><span class="text_4">" = 9*3+10*4"</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.matmul(x</span><span class="text_">, </span><span class="text_1">y)</span><span class="text_">,</span><span class="text_4">"= [[5*1+7*2,6*1+8*2],[5*3+7*4,6*3+8*4]]"</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.multiply(x</span><span class="text_">, </span><span class="text_1">y)</span><span class="text_">,</span><span class="text_4">"= [[1*5,2*6],[3*7+8*4]]"</span><span class="text_1">)</span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_1"><span class="text_9"># Một vài phép toán giống như là </span><span class="text_10">+= </span><span class="text_9"> hay</span><span class="text_10"> *= </span><span class="text_9">thường thay đổi các thành phần trong array chứ không tạo một array mới</span></p>
	<div class="frame_"><p class="block_10"><span class="text_11">a = np.ones((</span><span class="text_12">2</span><span class="text_13">,</span><span class="text_12">3</span><span class="text_11">)</span><span class="text_13">, </span><span class="text_14">dtype</span><span class="text_11">=</span><span class="text_15">int</span><span class="text_11">)<br class="calibre4" />b = np.random.random((</span><span class="text_12">2</span><span class="text_13">,</span><span class="text_12">3</span><span class="text_11">))<br class="calibre4" />a *= </span><span class="text_12">3<br class="calibre4" /></span><span class="text_15">print</span><span class="text_11">(a)<br class="calibre4" /></span><span class="text_16">#[[3, 3, 3],<br class="calibre4" /><span class="calibre3">#       [3, 3, 3]]</span></span><span class="text_16"><br class="calibre4" /></span><span class="text_11">b += a<br class="calibre4" /></span><span class="text_15">print</span><span class="text_11">(b)<br class="calibre4" /></span><span class="text_16"><span class="calibre3">#[[ 3.417022  ,  3.72032449,  3.00011437],</span></span><span class="text_16"><br class="calibre4" /><span class="calibre3">#       [ 3.30233257,  3.14675589,  3.09233859]]</span></span><span class="text_16"><br class="calibre4" /></span><span class="text_17">try</span><span class="text_18">:<br class="calibre4" /><span class="calibre3">    a+=b</span></span><span class="text_18"><br class="calibre4" /></span><span class="text_17">except </span><span class="text_16">TypeError</span><span class="text_18">:<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_19">print</span><span class="text_18">(</span><span class="text_20">"ta không thể dùng thế này a += b, vì b là số float không tự động chuyển thành số nguyên nên sẽ báo lỗi TypeError"</span><span class="text_18">)<br class="calibre4" /></span><span class="text_21">#TypeError: Cannot cast ufunc add output from dtype('float64') to dtype('int64') with casting rule 'same_kind'</span></p><p class="block_12"><span class="text_1"># Khi ta thực hiên phép toán trên các array với các định dạng khác nhau thì định dạng ở kết quả sẽ tự động lấy giá trị là các định dạng có tính chi tiết hơn<br class="calibre4" /></span><span class="text_7">a = np.ones(</span><span class="text_5">3</span><span class="text_">, </span><span class="text_8">dtype</span><span class="text_7">=np.int32)<br class="calibre4" />b = np.linspace(</span><span class="text_5">0</span><span class="text_">,</span><span class="text_7">np.pi</span><span class="text_">,</span><span class="text_5">3</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b.dtype.name)<br class="calibre4" /></span><span class="text_1">#'float64'<br class="calibre4" /></span><span class="text_7">c = a+b<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(c)<br class="calibre4" /></span><span class="text_1"><span class="calibre3">#[ 1.        ,  2.57079633,  4.14159265])</span></span><span class="text_1"><br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(c.dtype.name)<br class="calibre4" /></span><span class="text_1">#'float64'<br class="calibre4" /></span><span class="text_7">d = np.exp(c*</span><span class="text_5">1j</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(d)<br class="calibre4" /></span><span class="text_1">#[ 0.54030231+0.84147098j, -0.84147098+0.54030231j,<br class="calibre4" /><span class="calibre3">#       -0.54030231-0.84147098j]</span></span><span class="text_1"><br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(d.dtype.name)<br class="calibre4" /></span><span class="text_1"># complex128<br class="calibre4" />#Một vài phép tính thực hiện trong các phần tử của array như sum(), hay lấy min,max<br class="calibre4" /></span><span class="text_7">a = np.random.random((</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">3</span><span class="text_7">))<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a.sum())<br class="calibre4" /></span><span class="text_1">#2.5718191614547998<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a.min())<br class="calibre4" /></span><span class="text_1">#0.1862602113776709<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a.max())<br class="calibre4" /></span><span class="text_1">#0.6852195003967595<br class="calibre4" /><br class="calibre4" />#Mặc định là những phép toán trên sẽ tính toán tất cả các phần tử của array không cần biết định dạng của nó là gì. Nhưng chúng ta cũng có thể chỉ định<br class="calibre4" /># nó tính toán theo hàng hoặc cột của array<br class="calibre4" /></span><span class="text_7">b=np.arange(</span><span class="text_5">12</span><span class="text_7">).reshape(</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">4</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b.sum(</span><span class="text_8">axis</span><span class="text_7">=</span><span class="text_5">0</span><span class="text_7">)</span><span class="text_">,</span><span class="text_4">"= 1 array tính tổng trên mỗi cột"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b.min(</span><span class="text_8">axis</span><span class="text_7">=</span><span class="text_5">1</span><span class="text_7">)</span><span class="text_">,</span><span class="text_4">"= 1 array số nhỏ nhất thuộc mỗi hàng "</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b.cumsum(</span><span class="text_8">axis</span><span class="text_7">=</span><span class="text_5">1</span><span class="text_7">)</span><span class="text_">,</span><span class="text_4">"= 1 array giữ nguyên định dạng với mỗi hàng được tính lũy tiến"</span><span class="text_7">)</span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_3">Trong NumPy cũng có một số hàm toán cơ bản như sin,cos,và exp. Và chúng được gọi là "universal functions) <i class="calibre1">ufunc</i></p>
	<p class="block_2">Indexing(lấy phần tử dựa vào index), Slicing(cắt) and Iterating(lặp)</p>
	<p class="block_3">array 1 chiều có thể lấy index,slice hay lặp giống như list trong Python</p>
	<p class="block_9"><span class="text_7"><br class="calibre4" />a=np.arange(</span><span class="text_5">10</span><span class="text_7">)**</span><span class="text_5">3<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_1">"Mảng a được tạo với 10 phần tử từ 0-&gt;10 và toán tử ** lấy số mũ mỗi phần tử"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a)</span><span class="text_6"><span class="calibre3"># out [  0   1   8  27  64 125 216 343 512 729]</span></span><span class="text_6"><br class="calibre4" /># INDEXED<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a[</span><span class="text_5">2</span><span class="text_7">]</span><span class="text_">,</span><span class="text_1">" vị trí thứ 3 index tính từ vị trí 0"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a[</span><span class="text_5">2</span><span class="text_7">:</span><span class="text_5">5</span><span class="text_7">]</span><span class="text_">,</span><span class="text_1">" lấy giá trị từ vị trí 3-&gt;vị trí 4"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_6"># Gán<br class="calibre4" /></span><span class="text_7">a[:</span><span class="text_5">6</span><span class="text_7">:</span><span class="text_5">2</span><span class="text_7">]=-</span><span class="text_5">1000<br class="calibre4" /></span><span class="text_6"># Dấu : tượng trưng cho bắt đầu từ vị trí 0 tới vị trí số 6 cách mỗi 2 bước thì gán giá trị đó =-1000<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_1">"Dấu : tượng trưng cho bắt đầu từ vị trí 0 tới vị trí số 6 cách mỗi 2 bước thì gán giá trị đó =-1000"</span><span class="text_7">)<br class="calibre4" />a=a[: : -</span><span class="text_5">1</span><span class="text_7">]<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_1">"Đảo các phần tử từ cuối lên đầu ndarray"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_6"># Duyệt qua tất cả các phần tử trong mảng với for và thực hiện phép tính với phần tử<br class="calibre4" /></span><span class="text_">for </span><span class="text_7">i </span><span class="text_">in </span><span class="text_3">enumerate</span><span class="text_7">(a):<br class="calibre4" /><span class="calibre3">    d=i[-</span></span><span class="text_5">1</span><span class="text_7">]**(</span><span class="text_5">1</span><span class="text_7">/</span><span class="text_5">3.</span><span class="text_7">)<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_3">str</span><span class="text_7">(</span><span class="text_3">round</span><span class="text_7">(d</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">))</span><span class="text_">,</span><span class="text_3">str</span><span class="text_7">(i[-</span><span class="text_5">1</span><span class="text_7">])</span><span class="text_">,</span><span class="text_1">"lũy thừa "</span><span class="text_">,</span><span class="text_3">str</span><span class="text_7">(</span><span class="text_3">round</span><span class="text_7">(</span><span class="text_5">1</span><span class="text_7">/</span><span class="text_5">3.</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">))</span><span class="text_">,</span><span class="text_1">" của phần tử thứ : "</span><span class="text_7">+</span><span class="text_3">str</span><span class="text_7">(i[</span><span class="text_5">0</span><span class="text_7">]))</span></p>
	<p class="block_1">&nbsp;</p>
	<p class="block_2">Mảng nhiều chiều và thay đổi Shape của mảng</p>
	<div class="frame_"><p class="block_10"><span class="text_7">mprint(</span><span class="text_4">"Mảng nhiều chiều - Ma trận"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_">def </span><span class="text_2">f</span><span class="text_7">(x</span><span class="text_">,</span><span class="text_7">y):<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(x)<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"xxx"</span><span class="text_7">)<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(y)<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"-"</span><span class="text_7">*</span><span class="text_5">41</span><span class="text_7">)<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_">return </span><span class="text_7">x*</span><span class="text_5">10</span><span class="text_7">+y<br class="calibre4" />b=np.fromfunction(f</span><span class="text_">,</span><span class="text_7">(</span><span class="text_5">5</span><span class="text_">,</span><span class="text_5">4</span><span class="text_7">)</span><span class="text_">,</span><span class="text_8">dtype</span><span class="text_7">=</span><span class="text_3">int</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1"># hàm np.fromfunction(func,shape,type) là một hàm xây dựng mảng 2 chiều bằng cách gán một tham số là một hàm, và hàm này sẽ thực hiện trên mỗi tọa độ của ma trận<br class="calibre4" /><span class="calibre3"># tham số func: Là hàm được gọi cùng với tham số N, và N là dạng của ma trận ở tham số shape, như ví dụ trên thì với N = tuple (5,4) ma trận trả về sẽ có 5 hàng và 4 cột, hàm f sẽ trả về giá trị tại từng tọa độ điểm với x tăng dần theo cột từ 0-&gt;4 sau đó *10  và cộng với y tăng dần theo hàng từ 0-&gt;3</span></span><span class="text_1"><br class="calibre4" /># shape: là một tuple hoặc số int: shape là số chiều của array output<br class="calibre4" /># dtype: kiểu giá trị của elements<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b)<br class="calibre4" /></span><span class="text_1"><span class="calibre3">#[[ 0  1  2  3]</span></span><span class="text_1"><br class="calibre4" /># [10 11 12 13]<br class="calibre4" /># [20 21 22 23]<br class="calibre4" /># [30 31 32 33]<br class="calibre4" /># [40 41 42 43]]<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b[</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">3</span><span class="text_7">]</span><span class="text_">,</span><span class="text_4">" giá trị tại hàng 3 cột 4 index tính từ 0"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b[</span><span class="text_5">0</span><span class="text_7">:</span><span class="text_5">5</span><span class="text_">,</span><span class="text_5">1</span><span class="text_7">]</span><span class="text_">,</span><span class="text_4">" giá trị từ hàng 1-&gt;4 tại cột 2"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b[:</span><span class="text_">,</span><span class="text_5">1</span><span class="text_7">]</span><span class="text_">,</span><span class="text_4">" Tất cả giá trị có ở cột 2"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b[</span><span class="text_5">1</span><span class="text_7">:</span><span class="text_5">3</span><span class="text_">,</span><span class="text_7">:]</span><span class="text_">,</span><span class="text_4">" lấy giá trị ở hàng 2-&gt;3 tại tất cả các cột"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b[</span><span class="text_5">1</span><span class="text_7">:</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">1</span><span class="text_7">:</span><span class="text_5">3</span><span class="text_7">]</span><span class="text_">,</span><span class="text_4">" lấy giá trị ở hàng 2-&gt;3 tại cột 2 và 3"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1"># Khi chúng ta chỉ lấy index tại hàng thì xác định là lấy tất cả các cột<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b[-</span><span class="text_5">1</span><span class="text_7">]</span><span class="text_">,</span><span class="text_4">" = b[-1] cũng bằng giá trị với b[-1,:], tại hàng cuối lấy giá trị tất cả các cột"</span><span class="text_7">)<br class="calibre4" />d=np.reshape(b</span><span class="text_">,</span><span class="text_7">b.size) </span><span class="text_1"># làm phẳng array b<br class="calibre4" /></span><span class="text_7">c=d[</span><span class="text_5">0</span><span class="text_7">:</span><span class="text_5">16</span><span class="text_7">]<br class="calibre4" /><br class="calibre4" />c=c.reshape((</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">4</span><span class="text_7">))<br class="calibre4" /><br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(c</span><span class="text_">,</span><span class="text_4">" reshape lại c thành array 3 chiều"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1"># Giờ thì ta có 1 array 3 chiều và khá khó sử dụng. Nên ta có thêm khái niệm dấu 3 chấm (...) nó tương đương với dấu ":", ở array 2 chiều thì ta có thể sử dụng dấu : để lấy hết giá trị tại cột hay hàng đó mà không cần tới dấu (...)<br class="calibre4" /># nhưng ở array 3 chiều thì dấu ... có thể tượng trưng luôn cho 2 dấu ":" ta có vd sau<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(c[...</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">]</span><span class="text_">,</span><span class="text_4">" c[...,2] cái này có giá trị tương đương với c[:,:,2]"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1">#hoặc<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(c[</span><span class="text_5">1</span><span class="text_">,</span><span class="text_7">...]</span><span class="text_">,</span><span class="text_4">"c[1,...] cái này cũng giống với c[1,:,:]"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1"># Dấu ... có ý nghĩa lớn nếu ta sử dụng mảng nhiều chiều<br class="calibre4" /><br class="calibre4" /># Khi chúng ta dùng for để lặp lấy các giá trị của mảng nhiều chiều thì mặc định sẽ trả về giá trị tại trục đầu tiên vd<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"Array 2 chiều"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_">for </span><span class="text_7">r </span><span class="text_">in </span><span class="text_7">b:<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"-" </span><span class="text_7">* </span><span class="text_5">30</span><span class="text_7">)<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(r)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"Array 3 chiều"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_">for </span><span class="text_7">r </span><span class="text_">in </span><span class="text_7">c:<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"-"</span><span class="text_7">*</span><span class="text_5">30</span><span class="text_7">)<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(r)<br class="calibre4" /><br class="calibre4" /></span><span class="text_1"># Ta có thể flat (làm phẳng) array và duyệt qua tất cả các giá trị (phần tử) có trong mảng:<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"Array 2 chiều"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_">for </span><span class="text_7">e </span><span class="text_">in </span><span class="text_7">b.flat:<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"-" </span><span class="text_7">* </span><span class="text_5">30</span><span class="text_7">)<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(e)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"Array 3 chiều"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_">for </span><span class="text_7">e </span><span class="text_">in </span><span class="text_7">c.flat:<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"-"</span><span class="text_7">*</span><span class="text_5">30</span><span class="text_7">)<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(e)<br class="calibre4" /><br class="calibre4" /></span><span class="text_1"># Các cách thay đổi định dạng của array từ 1 chiều -&gt; 2 chiều -&gt; 3 chiều và ngược lại<br class="calibre4" /></span><span class="text_7">mprint(</span><span class="text_4">"Reshape Array"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a.T)<br class="calibre4" />a=np.floor(</span><span class="text_5">10</span><span class="text_7">*np.random.random((</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">4</span><span class="text_7">)))<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a)<br class="calibre4" /></span><span class="text_1"># Tạo một mảng 2 chiều giá trị phần tử ngẫu nhiên với 3 hàng và 4 cột<br class="calibre4" /># Trước tiên ta cần làm phẳng array<br class="calibre4" /># Cách 1 dùng np.reshape<br class="calibre4" /></span><span class="text_7">c=np.reshape(a</span><span class="text_">,</span><span class="text_7">a.size);</span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_4">"Chuyển đổi từ array 2 chiều thành 1 chiều với np.reshape"</span><span class="text_">,</span><span class="text_7">c)<br class="calibre4" /></span><span class="text_1"># Cách 2 dùng flatten<br class="calibre4" /></span><span class="text_7">d=a.flatten();</span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_4">"Chuyển đổi từ array 2 chiều thành 1 chiều với flatten()"</span><span class="text_">,</span><span class="text_7">d)<br class="calibre4" /></span><span class="text_1"># Cách 3 dùng ravel()<br class="calibre4" /></span><span class="text_7">e=a.ravel();</span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_4">"Chuyển đổi từ array 2 chiều thành 1 chiều với ravel()"</span><span class="text_">,</span><span class="text_7">e)<br class="calibre4" /><br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a.reshape(</span><span class="text_5">6</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">)</span><span class="text_">,</span><span class="text_4">" Chuyển đổi định dạng của array từ 3 hàng 4 cột thành 6 hàng 2 cột"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_4">" về cơ bản thì array a vẫn không thay đổi, khi ta sử dụng ravel flatten ta phải gán biến cho nó"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1"># Khi ta muốn thay đổi định dạng của một array thì ta sẽ có thêm 1 hàm khác để làm điều đó resize()<br class="calibre4" /></span><span class="text_7">a.resize(</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">6</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a)<br class="calibre4" /></span><span class="text_1">#Khi một tham số trong tuple(x,y) để reshape lại array mà có 1 tham số là -1 thì số đó sẽ được tính một cách tự động vd<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a.reshape(-</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">4</span><span class="text_7">)</span><span class="text_">,</span><span class="text_4">" reshape với 1 chiều =-1 thì chiều này sẽ được tự động tính"</span><span class="text_7">)<br class="calibre4" />a=[</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">]<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"list a:</span><span class="text_">\n</span><span class="text_4">"</span><span class="text_">,</span><span class="text_7">a)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"type of a"</span><span class="text_">,</span><span class="text_3">type</span><span class="text_7">(a))<br class="calibre4" />a=np.asarray(a)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"type of a"</span><span class="text_">,</span><span class="text_3">type</span><span class="text_7">(a))<br class="calibre4" />a=np.arange(</span><span class="text_5">6</span><span class="text_7">);</span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_4">" Thay đổi array a giữ nguyên dữ liệu"</span><span class="text_7">)<br class="calibre4" />b=a.reshape(</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">);</span><span class="text_3">print</span><span class="text_7">(b</span><span class="text_">,</span><span class="text_4">" Chuyển đổi thành array 2 chiều với 3 hàng và 2 cột"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b.size</span><span class="text_">,</span><span class="text_4">" Tổng số phần tử của array 2 chiều a.size"</span><span class="text_7">)<br class="calibre4" />b=a.reshape(</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">)<br class="calibre4" />c=a.reshape(</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(np.insert(b</span><span class="text_">,</span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">5</span><span class="text_7">)</span><span class="text_">,</span><span class="text_4">"sử dụng hàm np.insert(array,cột,giá trị) thêm giá trị vào cột 1 với giá trị bằng 5 và làm phẳng array"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(np.insert(c</span><span class="text_">,</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">3</span><span class="text_">,</span><span class="text_8">axis</span><span class="text_7">=</span><span class="text_5">1</span><span class="text_7">)</span><span class="text_">,</span><span class="text_4">"sử dụng hàm np.insert(array,cột,giá trị,axis=x) chèn thêm giá trị vào cột 2 với giá trị bằng 3,không thay đổi cấu trúc array với tham số axis=1"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(np.insert(c</span><span class="text_">,</span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">3</span><span class="text_">,</span><span class="text_8">axis</span><span class="text_7">=</span><span class="text_5">0</span><span class="text_7">)</span><span class="text_">,</span><span class="text_4">"Sử dụng hàm np.insert(array,cột,giá trị,axis=x) chèn vào hàng 1 một hàng có giá trị bằng 3,không thay đổi cấu trúc array với tham số axis=0"</span><span class="text_7">)</span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_2">Xếp chồng các mảng lên nhau:</p>
	<p class="block_3">Một vài Aray có thể chồng lên nhau dựa trên các trục</p>
	<p class="block_9"><span class="text_1">a=np.floor(</span><span class="text_5">10</span><span class="text_1">*np.random.random((</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">2</span><span class="text_1">)))<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(a)<br class="calibre4" />b=np.floor(</span><span class="text_5">10</span><span class="text_1">*np.random.random((</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">2</span><span class="text_1">)))<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(b)<br class="calibre4" /><br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.vstack((a</span><span class="text_">,</span><span class="text_1">b))</span><span class="text_">,</span><span class="text_4">" Chồng array theo trục dọc (cột) "</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.hstack((a</span><span class="text_">,</span><span class="text_1">b))</span><span class="text_">,</span><span class="text_4">" Chồng array theo trục ngang(hàng)"</span><span class="text_1">)<br class="calibre4" /><br class="calibre4" /></span><span class="text_6">#Hàm np.column_stack là chồng 2 array 1 chiều lên nhau thành 1 array 2 chiều. nó cũng giống như np.hstack khi dùng cho mảng 2 chiều<br class="calibre4" /></span><span class="text_">from </span><span class="text_1">numpy </span><span class="text_">import </span><span class="text_1">newaxis<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.column_stack((a</span><span class="text_">,</span><span class="text_1">b))</span><span class="text_">,</span><span class="text_4">"column_stack với array 2 chiều"</span><span class="text_1">)<br class="calibre4" />a=np.array([</span><span class="text_5">3.</span><span class="text_">,</span><span class="text_5">4.</span><span class="text_">,</span><span class="text_5">5.</span><span class="text_1">])<br class="calibre4" />b=np.array([</span><span class="text_5">6.</span><span class="text_">,</span><span class="text_5">8.</span><span class="text_">,</span><span class="text_5">1.</span><span class="text_1">])<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(a)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(b)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.column_stack((a</span><span class="text_">,</span><span class="text_1">b))</span><span class="text_">,</span><span class="text_4">" Chồng (stack) 2 array 1 chiều lên nhau thành 1 array 2 chiều"</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.column_stack((a</span><span class="text_">,</span><span class="text_1">b)).shape)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(np.hstack((a</span><span class="text_">,</span><span class="text_1">b))</span><span class="text_">,</span><span class="text_4">" Kết quả này khác khi dùng column_stack"</span><span class="text_1">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_1">(a[:</span><span class="text_">,</span><span class="text_1">newaxis]</span><span class="text_">,</span><span class="text_4">" Thêm trục để chuyển đổi từ array 1 chiều thành 2 chiều"</span><span class="text_1">)<br class="calibre4" /><br class="calibre4" /></span><span class="text_6"># Mặt khác hàm row_stack cũng giống như vstack. Nhưng khác với column_stack có điểm khác nhau khi chồng array 1 chiều còn row_stack không khác biệt nhiều với bất kỳ array 1 hay 2 chiều<br class="calibre4" /># Khi làm việc với array nhiều hơn 2 chiều thì hstack sẽ ghép với trục thứ 2 (axes=1) và vstack sẽ ghép vào trục 1(axes=0)<br class="calibre4" /># Ngoài ra bạn có thể dùng np.concatenate((arr1,arr2),axes=n) với tham số n để chỉ định ghép array ở vị trí nào<br class="calibre4" />&nbsp;</span></p>
	<p class="block_1">&nbsp;</p>
	<p class="block_3"><span class="text_22"><br class="calibre5" />*Note<br class="calibre5" /><span class="calibre6">   </span></span><span class="text_22"><span class="tab">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> Ngoài ra bạn có thể dùng </span><a href="https://docs.scipy.org/doc/numpy-1.15.1/reference/generated/numpy.c_.html" class="calibre7"><span class="text_23">np.c</span><span class="text_24">_</span></a><span class="text_22"> và </span><a href="https://docs.scipy.org/doc/numpy-1.15.1/reference/generated/numpy.r_.html" class="text_23">np.r_</a><span class="text_22"> cũng có thể stack với nhiều tham số tùy chọn để tạo matrix </span></p>
	<p class="block_1">&nbsp;</p>
	<p class="block_2">Tách mảng thành nhiều mảng nhỏ</p>
	<p class="block_3">sử dụng <a href="https://docs.scipy.org/doc/numpy-1.15.1/reference/generated/numpy.hsplit.html" class="text_24">numpy.hsplit</a> hay <a href="https://docs.scipy.org/doc/numpy-1.15.1/reference/generated/numpy.vsplit.html" class="text_24">numpy.vsplit</a> hoặc <a href="https://docs.scipy.org/doc/numpy-1.15.1/reference/generated/numpy.array_split.html" class="text_24">array_split</a> để chia mảng thành mảng nhỏ</p>
	<div class="frame_"><p class="block_10"><span class="text_7">a=np.floor(</span><span class="text_5">10</span><span class="text_7">*np.random.random((</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">12</span><span class="text_7">)))<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a)<br class="calibre4" /></span><span class="text_1">#[[1. 7. 9. 9. 1. 0. 0. 2. 7. 5. 9. 7.]<br class="calibre4" /># [3. 1. 9. 2. 9. 2. 7. 7. 8. 7. 7. 3.]]<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(np.hsplit(a</span><span class="text_">,</span><span class="text_5">3</span><span class="text_7">)</span><span class="text_">,</span><span class="text_4">" Chia array thành 3 array nhỏ"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1">#[array([[1., 7., 9., 9.],<br class="calibre4" /><span class="calibre3">#       [3., 1., 9., 2.]]), array([[1., 0., 0., 2.],</span></span><span class="text_1"><br class="calibre4" /><span class="calibre3">#       [9., 2., 7., 7.]]), array([[7., 5., 9., 7.],</span></span><span class="text_1"><br class="calibre4" /><span class="calibre3">#       [8., 7., 7., 3.]])]  Chia array thành 3 array nhỏ</span></span><span class="text_1"><br class="calibre4" /># Với Array nhiều chiều thì khi phân chia sẽ vẫn theo trục đầu tiên<br class="calibre4" /></span><span class="text_7">a=np.arange(</span><span class="text_5">8.0</span><span class="text_7">).reshape(</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a)<br class="calibre4" /></span><span class="text_1">#[[[0. 1.]<br class="calibre4" /><span class="calibre3">#  [2. 3.]</span></span><span class="text_1">]<br class="calibre4" /><br class="calibre4" /># [[4. 5.]<br class="calibre4" /><span class="calibre3">#  [6. 7.]]</span></span><span class="text_1">]<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(np.vsplit(x</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">))<br class="calibre4" /></span><span class="text_1">#[array([[1, 2]]), array([[3, 4]])]</span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_2">Copies and Views</p>
	<p class="block_3">Khi xử lý và vận dụng với Arrays, dữ liệu của chúng đôi khi được sao chép và đôi khi thì không cần sao chép, nó thường gây nhầm lẫn. có 3 Trường hợp hay dùng</p>
	<p class="block_2">No Copy( chẳng copy hay làm gì cả)</p>
	<div class="frame_"><p class="block_10"><span class="text_7">a=np.arange(</span><span class="text_5">6</span><span class="text_7">)<br class="calibre4" />b=a<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b </span><span class="text_">is </span><span class="text_7">a</span><span class="text_">,</span><span class="text_1">" Cái này trả về True vì b hay a thì nó chỉ là tên của cùng một ndarray"</span><span class="text_7">)<br class="calibre4" />b.shape=</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">4<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a.shape</span><span class="text_">,</span><span class="text_1">" Ta đã gán shape cho b nên a thay đổi theo"</span><span class="text_7">)</span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_2">Views or Shallow Copy( sao chép nông nông :D ) </p>
	<p class="block_3">Các mảng khác nhau có thể chia sẻ cùng 1 dữ liệu. Hàm view() tạo một mảng mới có dữ liệu dựa vào mảng ban đầu</p>
	<div class="frame_"><p class="block_10"><span class="text_7"><br class="calibre4" />c=a.view()<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(c </span><span class="text_">is </span><span class="text_7">a</span><span class="text_">,</span><span class="text_1">" Trả về False vì c không phải là a"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(c.base </span><span class="text_">is </span><span class="text_7">a</span><span class="text_">,</span><span class="text_1">" Trả về True vì c có dữ liệu dựa trên a"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(c.flags.owndata</span><span class="text_">,</span><span class="text_1">" Trả về False vì c không chứa dữ liệu"</span><span class="text_7">)<br class="calibre4" />c.shape=</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">6<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a.shape</span><span class="text_">,</span><span class="text_1">" shape của a không thay đổi"</span><span class="text_7">)<br class="calibre4" /><br class="calibre4" /><br class="calibre4" />c[</span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">4</span><span class="text_7">]=</span><span class="text_5">1234 </span><span class="text_6"># a sẽ thay đổi giá trị<br class="calibre4" /><br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_1">" Giá trị của a bị thay đổi theo c"</span><span class="text_7">)<br class="calibre4" /><br class="calibre4" /></span><span class="text_6"><span class="calibre3">#[[   0    1    2    3]</span></span><span class="text_6"><br class="calibre4" /><span class="calibre3"># [1234    5    6    7]</span></span><span class="text_6"><br class="calibre4" /><span class="calibre3"># [   8    9   10   11]]</span></span><span class="text_6"><br class="calibre4" /><br class="calibre4" /># Cắt array (slicing) ra để sử dụng cũng tương đương với việc view dữ liệu trên array cũ.<br class="calibre4" /># Cái này mọi người hay nhầm nhất<br class="calibre4" /></span><span class="text_7">s=a[:</span><span class="text_">,</span><span class="text_5">1</span><span class="text_7">:</span><span class="text_5">3</span><span class="text_7">] </span><span class="text_6"># Slice array a lấy tất cả giá trị các cột 2 và 3<br class="calibre4" /></span><span class="text_7">s[:]=</span><span class="text_5"><span class="calibre3">10  </span></span><span class="text_6"># Gán tất cả các giá trị trong array s thành 10, Chú ý, s=10 khác với s[:]=10<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_1">" Giá trị cột 2 và 3 biến thành 10 khi ta thay đổi view s"</span><span class="text_7">)</span></p><p class="block_11"></p></div>
	<p class="block_2">Deep Copy</p>
	<p class="block_3">Phương thức copy() là tạo một array mới sao chép toàn bộ dữ liệu của array cũ và khi thao tác trên array mới sẽ không ảnh hưởng đến array cũ</p>
	<div class="frame_"><p class="block_10"><span class="text_7">d=a.copy()<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(d </span><span class="text_">is </span><span class="text_7">a</span><span class="text_">,</span><span class="text_1">" Trả về False vì chẳng còn liên quan gì đến a"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(d.base </span><span class="text_">is </span><span class="text_7">a</span><span class="text_">,</span><span class="text_1">" Trả về False vì chẳng còn liên quan gì đến a"</span><span class="text_7">)<br class="calibre4" />d[</span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">0</span><span class="text_7">]=</span><span class="text_5">100000<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_1">" a không thay đổi vì d với a không chia sẻ cái gì"</span><span class="text_7">)</span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_2">Những thứ méo cơ bản</p>
	<p class="block_13">numpy.broadcast</p>
	<p class="block_3">Thuật ngữ Broadcast trong numpy là khi nó xử lý các mạng với các shape khác nhau trong các phép toán.</p>
	<p class="block_3">Nếu tất cả các arrays không có cùng số chiều, thì số 1 sẽ được thêm vào cho tới khi shape của các array đó giống nhau.</p>
	<p class="block_3">Đọc thêm về Broadcasting và các ví dụ tại <a href="https://docs.scipy.org/doc/numpy-1.15.1/user/basics.broadcasting.html" class="text_24">Broadcasting</a></p>
	<p class="block_1">&nbsp;</p>
	<p class="block_2">Lập các chỉ mục vị trí (index) của array bằng 1 array</p>
	<p class="block_2">(Indexing with Arrays of Indices)</p>
	<p class="block_3">Lập chỉ mục: là vị trí index (lấy giá trị elements của array thông qua các số này) của một array 1 chiều hay nhiều chiều ta có thể tạo một array khác chứa các index này (số nhiều indices) </p>
	<div class="frame_"><p class="block_10"><span class="text_7">a=np.arange(</span><span class="text_5">12</span><span class="text_7">)**</span><span class="text_5">2 </span><span class="text_1"># Tạo một Array 1 chiều với 12 giá trị là lũy thừa của 2<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_4">" Array a"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1"><span class="calibre3">#[  0   1   4   9  16  25  36  49  64  81 100 121]  Array a</span></span><span class="text_1"><br class="calibre4" /></span><span class="text_7">i=np.array([</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">8</span><span class="text_">,</span><span class="text_5">5</span><span class="text_7">]) </span><span class="text_1"># Tạo một array gồm các index ( chỉ mục cho phần tử) của array a<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a[i]</span><span class="text_">,</span><span class="text_4">" Trả về các phần tử trong array a có index là i"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1"><span class="calibre3">#[ 1  1  9 64 25]  Trả về các phần tử trong array a có index là i</span></span><span class="text_1"><br class="calibre4" /></span><span class="text_7">j=np.array([[</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">4</span><span class="text_7">]</span><span class="text_">,</span><span class="text_7">[</span><span class="text_5">9</span><span class="text_">,</span><span class="text_5">7</span><span class="text_7">]]) </span><span class="text_1"># Tạo một array 2 chiều có các giá trị là chỉ mục cho array a<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a[j]</span><span class="text_">,</span><span class="text_4">" Trả về 1 array có các phần tử trong array a ở vị trí j nhưng có shape là array j"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1">#[[ 9 16]<br class="calibre4" /><span class="calibre3">#[81 49]]  Trả về 1 array có các phần tử trong array a ở vị trí j nhưng có shape là array j</span></span></p><p class="block_11"></p></div>
	<p class="block_3">Khi lập chỉ mục cho một array nhiều chiều, một array chỉ mục cho array a sẽ lấy chiều đầu tiên của a (thường tính theo hàng trục đầu tiên axes = 0 ). VD ta muốn chuyển mã màu của một hình ảnh thành một bức ảnh màu sử dụng một bảng màu.</p>
	<div class="frame_"><p class="block_10"><span class="text_1"># Bảng màu RGB<br class="calibre4" /></span><span class="text_7">pallete=np.array([<br class="calibre4" /><span class="calibre3">    [</span></span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">0</span><span class="text_7">]</span><span class="text_">, </span><span class="text_1"># Màu đen<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_7">[</span><span class="text_5">255</span><span class="text_">,</span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">0</span><span class="text_7">]</span><span class="text_">, </span><span class="text_1"># Màu đỏ<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_7">[</span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">255</span><span class="text_">,</span><span class="text_5">0</span><span class="text_7">]</span><span class="text_">, </span><span class="text_1"># Màu xanh lá cây<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_7">[</span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">255</span><span class="text_7">]</span><span class="text_">, </span><span class="text_1"># Màu xanh da trời blue<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_7">[</span><span class="text_5">255</span><span class="text_">, </span><span class="text_5">255</span><span class="text_">,</span><span class="text_5">255</span><span class="text_7">]</span><span class="text_"><span class="calibre3">,  </span></span><span class="text_1"># Màu trắng<br class="calibre4" /></span><span class="text_7">])<br class="calibre4" />image=np.array([<br class="calibre4" /><span class="calibre3">    [</span></span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">0</span><span class="text_7">]</span><span class="text_">,<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_7">[</span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">4</span><span class="text_">,</span><span class="text_5">0</span><span class="text_7">]<br class="calibre4" />])<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(pallete[image])<br class="calibre4" /></span><span class="text_1"><span class="calibre3">#[[[  0   0   0]</span></span><span class="text_1"><br class="calibre4" /><span class="calibre3">#  [255   0   0]</span></span><span class="text_1"><br class="calibre4" /><span class="calibre3">#  [  0 255   0]</span></span><span class="text_1"><br class="calibre4" /><span class="calibre3">#  [  0   0   0]]</span></span><span class="text_1"><br class="calibre4" />#<br class="calibre4" /><span class="calibre3"># [[  0   0   0]</span></span><span class="text_1"><br class="calibre4" /><span class="calibre3">#  [  0   0 255]</span></span><span class="text_1"><br class="calibre4" /><span class="calibre3">#  [255 255 255]</span></span><span class="text_1"><br class="calibre4" /><span class="calibre3">#  [  0   0   0]]]</span></span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_3">Khi muốn lập chỉ mục nhiều hơn 1 chiều như trên. ta có thể tạo nhiều array chứa chỉ mục cho mỗi chiều- những array này phải có chung 1 shape</p>
	<div class="frame_"><p class="block_10"><span class="text_1"># Tạo một array 2 chiều với 3 hàng và 4 cột<br class="calibre4" /></span><span class="text_7">a=np.arange(</span><span class="text_5">12</span><span class="text_7">).reshape(</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">4</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_4">"Array mẫu"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1"><span class="calibre3">#[[ 0  1  2  3]</span></span><span class="text_1"><br class="calibre4" /><span class="calibre3"># [ 4  5  6  7]</span></span><span class="text_1"><br class="calibre4" /><span class="calibre3"># [ 8  9 10 11]]</span></span><span class="text_1"><br class="calibre4" /># Array chứa index chỉ mục cho trục thứ 1 (chiều thứ 1)<br class="calibre4" /></span><span class="text_7">i=np.array([<br class="calibre4" /><span class="calibre3">    [</span></span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">1</span><span class="text_7">]</span><span class="text_">,<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_7">[</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">]<br class="calibre4" /><br class="calibre4" />])<br class="calibre4" /></span><span class="text_1"># Array chứa index chỉ mục cho trục thứ 2 (chiều thứ 2)<br class="calibre4" /></span><span class="text_7">j=np.array([<br class="calibre4" /><span class="calibre3">    [</span></span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">1</span><span class="text_7">]</span><span class="text_">,<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_7">[</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">3</span><span class="text_7">]<br class="calibre4" />])<br class="calibre4" />d=a[i</span><span class="text_">,</span><span class="text_7">j]<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(d</span><span class="text_">,</span><span class="text_4">" Array d trả về có shape giống Array chứa index chỉ mục"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_4">"với i[0]=[0,1] và j[0]=[2,1] sẽ trả về giá trị d[0] = hàng 0(vị trí i[0][0]=0) và cột 2(vị trí j) ở array mẫu và có giá trị = 2, tương tự hàng 1 cột 1 = 5 ~ [2,5]"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a[i</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">]</span><span class="text_">,</span><span class="text_4">" Array trả về sẽ có shape giống array i, còn số 2 tương đương với array j có dạng j=[[2,2],[2,2]]"</span><span class="text_7">)<br class="calibre4" />j=np.array([<br class="calibre4" /><span class="calibre3">    [</span></span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">0</span><span class="text_7">]</span><span class="text_">,<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_7">[</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">3</span><span class="text_7">]<br class="calibre4" />])<br class="calibre4" /></span><span class="text_1"># Shape đỏi shape (2,3) cho array j<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(j.shape)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a[:</span><span class="text_">,</span><span class="text_7">j]</span><span class="text_">,</span><span class="text_4">" Array trả về sẽ có shape tương đương chồng (stack) từng hàng của array a (1 chiều) lên array j sẽ tạo thành 1 array 3 chiều"<br class="calibre4" /><span class="calibre3">             "gồm 4 mục ( số lượng elements tại trục thứ 1 của array a ), mỗi mục có shape giống shape của array j (2,3)"</span></span><span class="text_4"><br class="calibre4" /><span class="calibre3">             "Dấu : tương đương với tất cả các index 'n' của a tính theo hàng và tạo array dưới dạng a[n,j]"</span></span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a[:</span><span class="text_">,</span><span class="text_7">j].shape</span><span class="text_">,</span><span class="text_4">" shape 3 chiều của array kết quả có dạng trục 1 là trục của array a, trục 2,3 có dạng shape của array j"</span><span class="text_7">)<br class="calibre4" /><br class="calibre4" /></span><span class="text_1"># Thông thường chúng ta thường bỏ 2 array chỉ mục i,j vào 1 list và sau đó index list này<br class="calibre4" /></span><span class="text_7">j=np.array([<br class="calibre4" /><span class="calibre3">    [</span></span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">1</span><span class="text_7">]</span><span class="text_">,<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_7">[</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">3</span><span class="text_7">]<br class="calibre4" />])<br class="calibre4" />l=</span><span class="text_3">tuple</span><span class="text_7">([i</span><span class="text_">,</span><span class="text_7">j]) </span><span class="text_1"># Nên dùng tuple không thằng numPy nó thay đổi rồi :D đọc warning thấy thế nên theo mình dùng kiểu [i,j] cho lẹ<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a[l]</span><span class="text_">,</span><span class="text_4">" kết quả tương đương khi sử dụng a[i,j]"</span><span class="text_7">)</span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<div class="frame_"><p class="block_10"><span class="text_6">#Hoặc lấy một khoảng index<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a[i</span><span class="text_">,</span><span class="text_5">1</span><span class="text_7">:</span><span class="text_5">3</span><span class="text_7">]</span><span class="text_">,</span><span class="text_1">"Dấu 1:3 tương đương với tất cả các index '1-&gt;3' của a tính theo hàng và tạo array dưới dạng a[i,1] ,a[i,2]"</span><span class="text_7">)<br class="calibre4" /><br class="calibre4" /></span><span class="text_6">#Hoặc lập chỉ mục một cách trực tiếp bằng cách gán 1 mảng vào đó<br class="calibre4" /></span><span class="text_7">a=np.arange(</span><span class="text_5">5</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a)<br class="calibre4" />a[[</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">4</span><span class="text_7">]]=</span><span class="text_5">0<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a) </span><span class="text_6">#[0 1 2 3 4] =&gt; [0 0 0 3 0]<br class="calibre4" /># Nếu các index được lặp lại nhiều lần trong array chỉ mục thì nó sẽ nhận giá trị cuối cùng được gán<br class="calibre4" /></span><span class="text_7">a=np.arange(</span><span class="text_5">5</span><span class="text_7">)<br class="calibre4" />a[[</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">]]=[</span><span class="text_5">0</span><span class="text_">,</span><span class="text_5">8</span><span class="text_">,</span><span class="text_5">9</span><span class="text_7">]<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7"><span class="calibre3">(a)  </span></span><span class="text_6">#[0 1 2 3 4] =&gt; [0 8 9 3 4]<br class="calibre4" /><br class="calibre4" /># Giờ thì chuyện gì sẽ xảy ra nếu ta gán toán tử += hay -= khi gán giá trị chỉ mục ?<br class="calibre4" /></span><span class="text_7">a=np.arange(</span><span class="text_5">5</span><span class="text_7">)<br class="calibre4" />a[[</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">3</span><span class="text_7">]]+=</span><span class="text_5">1<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_1">" vẫn đúng với các giá trị từ 1-&gt;3 tăng thêm 1 đơn vị"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_6"># Còn lặp lại thì sao ?<br class="calibre4" /></span><span class="text_7">a=np.arange(</span><span class="text_5">5</span><span class="text_7">)<br class="calibre4" />a[[</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">2</span><span class="text_7">]]+=</span><span class="text_5">1<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_1">" giá trị ở cột thứ 2 sẽ được giữ nguyên đến khi nó thực hiện xong và tăng thêm 1 1 lần"</span><span class="text_7">)</span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_2">Lập chỉ mục với Array Boolean</p>
	<p class="block_3">Khi lập chỉ mục với một array chúng ta thường dùng một array chứa giá trị số index( vị trí) của array đó để lấy giá trị. Nhưng với một array không chứa giá trị số mà chứa giá trị là một list (hoặc array tùy cách hiểu :D<span class="calibre6"> )  </span>boolean chúng ta có thể chọn những giá trị chúng ta muốn trong array gốc, vd như chọn số nguyên %2==0 hoặc lớn hơn 5(&gt;5) hoặc số có 2 chữ số (&gt;9)</p>
	<p class="block_3">xem ví dụ sau bạn sẽ rõ về cách sử dụng lập chỉ mục Boolean:</p>
	<div class="frame_"><p class="block_10"><span class="text_1">#Tạo array 2 chiều a từ 0-&gt;11 có shape 3 hàng 4 cột<br class="calibre4" /></span><span class="text_7">a=np.arange(</span><span class="text_5">12</span><span class="text_7">).reshape(</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">4</span><span class="text_7">)</span></p><p class="block_12"><span class="text_1"># Tạo array boolean indices<br class="calibre4" /></span><span class="text_7">b=a%</span><span class="text_5">2</span><span class="text_7">==</span><span class="text_5">0 </span><span class="text_1"># Lập chỉ mục array boolean với giá trị là số chẵn<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(b</span><span class="text_">,</span><span class="text_4">" Array boolean"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_1"># Giờ thì biến tất cả các số chẵn này thành 1<br class="calibre4" /></span><span class="text_7">a[b]=</span><span class="text_5">1<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a</span><span class="text_">,</span><span class="text_4">"Các số chẵn biến mất và đã được gán giá trị =1"</span><span class="text_7">)</span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_3">Ví dụ sau là cách sử dụng index Boolean để tạo một hình fractal giống <a href="http://en.wikipedia.org/wiki/Mandelbrot_set" class="text_24">Mandelbrot</a></p>
	<div class="frame_"><p class="block_10"><span class="text_1"># import package matplotlib để vẽ hình<br class="calibre4" /></span><span class="text_">import </span><span class="text_7">matplotlib.pyplot </span><span class="text_">as </span><span class="text_7">plt<br class="calibre4" /></span><span class="text_1"><span class="calibre3"># Tạo một hàm  vẽ fractal với chiều cao và rộng, maxit là độ nhiễu của fractal</span></span><span class="text_1"><br class="calibre4" /></span><span class="text_">def </span><span class="text_2">mandelbrot</span><span class="text_7">(h</span><span class="text_">,</span><span class="text_7">w</span><span class="text_">,</span><span class="text_7">maxit=</span><span class="text_5">80</span><span class="text_7">):<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_1"># Tạo một grid với numpy.ogrid<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_7">x</span><span class="text_">,</span><span class="text_7">y = np.ogrid[-</span><span class="text_5">2</span><span class="text_7">:</span><span class="text_5">0.8</span><span class="text_7">:w * </span><span class="text_5">1j</span><span class="text_">,</span><span class="text_7">-</span><span class="text_5">1.4</span><span class="text_7">:</span><span class="text_5">1.4</span><span class="text_7">:h * </span><span class="text_5">1j</span><span class="text_7">]<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_1"># Tạo 1 số phức để vẽ fractal đối xứng<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_7">c=x+y*</span><span class="text_5">1j<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_7">z=c<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_1"># Tạo mảng 0 divtime có shape giống mảng c<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_7">divtime=maxit+np.zeros(z.shape</span><span class="text_">,</span><span class="text_8">dtype</span><span class="text_7">=</span><span class="text_3">int</span><span class="text_7">)<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_">for </span><span class="text_7">i </span><span class="text_">in </span><span class="text_3">range</span><span class="text_7">(maxit):<br class="calibre4" /><br class="calibre4" /><span class="calibre3">        z=z**</span></span><span class="text_5">2</span><span class="text_7">+c<br class="calibre4" /><span class="calibre3">        diverge=z*np.conj(z)&gt;</span></span><span class="text_5">2</span><span class="text_7">**</span><span class="text_5">2<br class="calibre4" /><span class="calibre3">        </span></span><span class="text_1"># Mảng boolean index<br class="calibre4" /><span class="calibre3">        </span></span><span class="text_7">div_now=diverge&amp;(divtime==maxit)<br class="calibre4" /><span class="calibre3">        divtime[div_now]=i+</span></span><span class="text_5">50<br class="calibre4" /><span class="calibre3">        </span></span><span class="text_7">z[diverge]=</span><span class="text_5">1j<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_">return </span><span class="text_7">divtime<br class="calibre4" />plt.imshow(mandelbrot(</span><span class="text_5">400</span><span class="text_">,</span><span class="text_5">400</span><span class="text_">,</span><span class="text_5">10</span><span class="text_7">))<br class="calibre4" />plt.title(</span><span class="text_4">"Fractal"</span><span class="text_7">)<br class="calibre4" />plt.show()</span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_2">Hàm ix_()</p>
	<p class="block_3">Hàm ix_() dùng để kết hợp nhiều vector(vector là mảng 1 chiều, có dạng hàng x=[x1,x2,….,xn] hoặc cột y= ) biến đổi chúng thành các ma trận n chiều (n bằng số vector gộp). Ví dụ bạn có 3 vector a,b,c và giờ bạn muốn tính kết quả a+b*c cho mỗi cặp 3 từ các vector đó:</p>
	<div class="frame_"><p class="block_4"># Tạo 3 Vector có shape khác nhau</p><p class="block_12"><span class="text_7">a=np.arange(</span><span class="text_5">4</span><span class="text_7">)+</span><span class="text_5">2<br class="calibre4" /></span><span class="text_7">b=np.array([</span><span class="text_5">8</span><span class="text_">,</span><span class="text_5">5</span><span class="text_">,</span><span class="text_5">4</span><span class="text_7">])<br class="calibre4" />c=np.array([</span><span class="text_5">5</span><span class="text_">,</span><span class="text_5">4</span><span class="text_">,</span><span class="text_5">6</span><span class="text_">,</span><span class="text_5">8</span><span class="text_">,</span><span class="text_5">3</span><span class="text_7">])<br class="calibre4" /><br class="calibre4" />ax</span><span class="text_">,</span><span class="text_7">bx</span><span class="text_">,</span><span class="text_7">cx=np.ix_(a</span><span class="text_">,</span><span class="text_7">b</span><span class="text_">,</span><span class="text_7">c)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(ax</span><span class="text_">,</span><span class="text_1">" a biến thành vector 3 chiều với chiều 1 là size của a"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(ax.shape</span><span class="text_">,</span><span class="text_1">" là shape của vector a sau khi biến đổi"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(bx</span><span class="text_">,</span><span class="text_1">" b biến thành vector 3 chiều với chiều 2 là size của b"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(bx.shape</span><span class="text_">,</span><span class="text_1">" là shape của vector b sau khi biến đổi"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(cx</span><span class="text_">,</span><span class="text_1">" c biến thành vector 3 chiều với chiều 3 là size của c"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(cx.shape</span><span class="text_">,</span><span class="text_1">" là shape của vector c sau khi biến đổi"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_6"># Tương tự nếu gộp nhiều vector với nhau<br class="calibre4" /><br class="calibre4" /></span><span class="text_7">result=ax+bx*c<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(result</span><span class="text_">,</span><span class="text_1">" Là vector 3 chiều có giá trị là a+b*c có shape dưới dạng (a.size,b.size,c.size)"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(result[</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">1</span><span class="text_7">]</span><span class="text_">,</span><span class="text_1">" có giá trị tương đương khi ta sử dụng a[3]+b[2]*c[1]"</span><span class="text_7">)<br class="calibre4" /><br class="calibre4" /></span><span class="text_6"># OK giờ thì làm cho nó ngắn gọn đi 1 chút và có thể tái sử dụng<br class="calibre4" /></span><span class="text_">import </span><span class="text_7">functools<br class="calibre4" /></span><span class="text_">def </span><span class="text_2">ufunc</span><span class="text_7">(ufct</span><span class="text_">, </span><span class="text_7">*vectors):<br class="calibre4" /><span class="calibre3">   vs = np.ix_(*vectors)</span></span><span class="text_7"><br class="calibre4" /><span class="calibre3">   r = ufct.identity</span></span><span class="text_7"><br class="calibre4" /><span class="calibre3">   </span></span><span class="text_">for </span><span class="text_7">v </span><span class="text_">in </span><span class="text_7">vs:<br class="calibre4" /><span class="calibre3">       r = ufct(r</span></span><span class="text_">,</span><span class="text_7">v)<br class="calibre4" /><span class="calibre3">   </span></span><span class="text_">return </span><span class="text_7">r<br class="calibre4" /></span><span class="text_6"># Giờ thì ta có thể sử dụng nó để tính toán bất kỳ trạng thái nào của 3 vector abc<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(ufunc(np.add</span><span class="text_">,</span><span class="text_7">a</span><span class="text_">,</span><span class="text_7">b</span><span class="text_">,</span><span class="text_7">c))<br class="calibre4" />&nbsp;</span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_2">Tự động reshape cho array</p>
	<p class="block_3">Để thay đổi chiều của một array các mày có thể đặt 1 chiều với giá trị là -1 để nó tự động đặt số còn lại.</p>
	<div class="frame_"><p class="block_10"><span class="text_7"><br class="calibre4" />a=np.arange(</span><span class="text_5">30</span><span class="text_7">)<br class="calibre4" />a.shape=-</span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">2<br class="calibre4" /></span><span class="text_3">print</span><span class="text_7">(a.shape</span><span class="text_">,</span><span class="text_1">" tự thay đổi số -1 bằng số thích hợp"</span><span class="text_7">)<br class="calibre4" /></span><span class="text_">try</span><span class="text_7">:<br class="calibre4" /><span class="calibre3">    a.shape=-</span></span><span class="text_5">1</span><span class="text_">,</span><span class="text_5">3</span><span class="text_">,</span><span class="text_5">4<br class="calibre4" /></span><span class="text_">except </span><span class="text_3">Exception </span><span class="text_">as </span><span class="text_7">e:<br class="calibre4" /><span class="calibre3">    </span></span><span class="text_3">print</span><span class="text_7">(</span><span class="text_1">"Báo lỗi khi không gán được giá trị ở đây là lỗi: "</span><span class="text_7">+ </span><span class="text_3">str</span><span class="text_7">(</span><span class="text_3">type</span><span class="text_7">(e)) </span><span class="text_">,</span><span class="text_3">str</span><span class="text_7">(e))</span></p><p class="block_11"></p></div>
	<p class="block_1">&nbsp;</p>
	<p class="block_2">Vẽ biểu đồ</p>
	<p class="block_3">hàm <i class="calibre1">np.histogram(a, bins=10, range=None, normed=None, weights=None, density=None) </i>trong đó a là một array phẳng (flattened array) đoc thêm tại <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.histogram.html" class="text_24">np.histogram</a><i class="calibre1"> </i></p>
	<p class="block_3">Trong matplotlib cũng có hàm <i class="calibre1">hist()</i> để vẽ biểu đồ nhưng 2 cái này có điểm khác nhau. Điểm khác nhau chủ yếu là hist() phác họa biểu đồ 1 cách tự động còn. np.histogram chỉ tạo ra dữ liệu (return an array):</p>
	<div class="frame_"><p class="block_10"><span class="text_1">mu</span><span class="text_">,</span><span class="text_1">sigma=</span><span class="text_5">2</span><span class="text_">,</span><span class="text_5">.5<br class="calibre4" /></span><span class="text_1">v=np.random.normal(mu</span><span class="text_">,</span><span class="text_1">sigma</span><span class="text_">,</span><span class="text_5">1000</span><span class="text_1">)<br class="calibre4" />plt.figure()<br class="calibre4" />plt.hist(v</span><span class="text_">,</span><span class="text_8">bins</span><span class="text_1">=</span><span class="text_5">50</span><span class="text_">,</span><span class="text_8">density</span><span class="text_1">=</span><span class="text_5">1</span><span class="text_1">)<br class="calibre4" />plt.title(</span><span class="text_4">"Vẽ biểu đồ hist với matplotlib"</span><span class="text_1">)<br class="calibre4" />plt.figure()<br class="calibre4" />(n</span><span class="text_">,</span><span class="text_1">bins)=np.histogram(v</span><span class="text_">,</span><span class="text_8">bins</span><span class="text_1">=</span><span class="text_5">50</span><span class="text_">,</span><span class="text_8">density</span><span class="text_1">=</span><span class="text_">True</span><span class="text_1">)<br class="calibre4" />plt.plot(</span><span class="text_5">.5</span><span class="text_1">*(bins[</span><span class="text_5">1</span><span class="text_1">:]+bins[:-</span><span class="text_5">1</span><span class="text_1">])</span><span class="text_">,</span><span class="text_1">n)<br class="calibre4" />plt.title(</span><span class="text_4">"Vẽ biểu đồ với np.histogram"</span><span class="text_1">)<br class="calibre4" />plt.show()</span></p><p class="block_11"></p></div>
	<p class="block_3">Kết quả:</p>
	<p class="block_3"><img alt="Image" src="images/00000.jpeg" class="calibre8" /> <img alt="Image" src="images/000001.png" class="calibre8" /></p>
		<p class="block_3">File ví dụ lấy ở đây <a href="NumpyTest.py" class="text_24">NumpyTest.py</a></p>
	

</div>

</body></html>




<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/ai-with-python/chapter13/" title="C13: Object Detection and Tracking"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/about/" title="about" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1576139178"></script>
    <script src="/js/perfect-scrollbar.min.js?1576139178"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1576139178"></script>
    <script src="/js/jquery.sticky.js?1576139178"></script>
    <script src="/js/featherlight.min.js?1576139178"></script>
    <script src="/js/highlight.pack.js?1576139178"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1576139178"></script>
    <script src="/js/learn.js?1576139178"></script>
    <script src="/js/hugo-learn.js?1576139178"></script>

    <link href="/mermaid/mermaid.css?1576139178" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1576139178"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>
